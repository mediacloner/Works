<!DOCTYPE html>
<html>
<body>

<p>Pàgina HTML per poder debugar en Javascript</p>



<script>

  function LongestWord(sen)
  {
      var charArray = chargeChar();
      var clnString = cleaningStr(sen);
      var arrayWords = convertArray(clnString);
      var result = checkBW(arrayWords);

      function chargeChar()
      ////Charge legal letters
      {

        var char = [null]
        ////Lowercase
        char.push('a');
	      for (var i = 1; i <= 25 ; i++)
	          {
              char.push(nextChar('a', i));
            }
         ////Capital letters
	       char.push('A');
	       for (var i = 1; i <= 25 ; i++)
	          {
		          char.push(nextChar('A', i));
	          }

          function nextChar(letter, j)
            {
               return String.fromCharCode(letter.charCodeAt(0) + j);
            }
         return char;
        }

        /// Clean and split string with semicolon


        function cleaningStr(cls)
        {
         var cls = '';
         for (var i = 0; i<=sen.length; i++ )
         {
               if (charArray.indexOf(sen[i]) >= 0)
               {
                 cls = cls + (sen[i]);
               };

               if ((charArray.indexOf(sen[i]) < 0) && (charArray.indexOf(sen[i-1])>= 0))
               {

                 if (sen[i] === sen [sen.length])
                 {
                   cls=cls //Don't do anything if is the last comma.
                 }
                 else
                 {
                  cls = cls + (',');
                 }


               };

               //if ((string.indexOf(string[i]) < 0) && (string.indexOf(charArray[i-1])< 0))
               //{
               //don't do anything. Don't push the symbol.
               //}
          }
          return cls;
        }


         /// Convert string to array
         function convertArray(str)
         {
             var array = str.split(',');
             return array;
         }

         ////  Bigest word
         function checkBW(arr)
         {
             var longWordPos = 0;
             for (var i = 0; i<=arr.length-1; i++ )
               {
                 var j = i+1;
                if (j<=arr.length-1) //protection when j is outsite of array.
                 {
                    if (arr[i].length > arr[j].length)
                      {
                        longWordPos = i;
                      }
                }
                 resultWord = arr[longWordPos]
                }
              return resultWord;
           }
return result;
}



    console.log("The longest word is " + LongestWord("Test?¿$carca;accio;"));

</script>

</body>
</html>
